## 前后端分类接口规范

### 接口要点

- 接口查询不到数据时,建议返回非 `null` 的对应数据类型初始值, 例如对象类型的返回空对象(`{}`), 数组类型的返回空数组(`[]`), 其他原始数据类型(`string`/`number`/`boolean`…)也使用对应的默认值
- 返回数据中页面跳转的 URL 返回部分或者只给ID由前端自己拼接, 例如只给出商品ID, 让前端自己拼接商品详情页的 URL

### 接口地址和请求方式

**接口实现的大方向建议遵循 RESTful 风格**

- HTTP 动词: 获取数据用 GET, 新增/修改/发送数据用 POST 
  - 例如: 获取用户数据的接口用 GET, 修改用户数据的接口用 POST
- 对于资源的操作类型, 使用 HTTP 动词来指定, 减少接口 URL 的数量 
  - 例如: `GET /contact` 获取联系人, `POST /contact` 新增/修改联系

### 接口参数

| **字段名** | **字段说明**                                                 |
| ---------- | ------------------------------------------------------------ |
| data       | **业务数据** 必须是任意 JSON 数据类型(number/string/boolean/object/array). 推荐始终返回一个 object (即再包一层)以便于扩展字段. 例如: 用户数据应该返回 `{"user":{"name":"test"}}`, 而不是直接为 `{"name":"test"}` |
| status     | **状态码** 必须是 `>= 0` 的 JSON Number 整数.`200` 表示请求处理成功, 此时可以省略 `status` 字段,；`非200` 表示发生错误时的错误码, 此时可以省略 `data` 字段, 并视情况输出 `statusInfo` 字段作为补充信息 |
| statusInfo | **状态信息** 必须是任意 JSON 数据类型. 推荐始终返回一个 object 包含 `message` 和 `detail` 字段`message` 字段作为接口处理失败时, **给予用户的友好的提示信息**, 即所有给用户的提示信息都统一由后端来处理.`detail` 字段用来放置接口处理失败时的详细错误信息. 只是为了方便排查错误, 前端无需使用. |



### 未规定

分页参数和分页信息 

- 限制只返回 N 条数据(limit 参数)
- 控制每页的数据条数(pageSize 参数)
- 加载某一页的数据(page 参数) 
  - 第一页是从 0 开始还是从 1 开始
- 分页信息包含什么(total, page, pageSize)
- 分页信息何时表明已经是最后一页了 
  - 请求某页数据时返回的数据条数 < pageSize
  - 请求某页数据时返回的数据条数 = 0
  - 如果碰巧最后一页有 pageSize 条数据, 前端无法通过数据条数来判断已经处于最后一页了









## PIA文档

### 商品管理

| 接口 | 描述                 |
| ---- | -------------------- |
|      | 获取初始化分类列表   |
|      | 添加分类             |
|      | 根据分类获取商品列表 |
|      | 添加商品             |





